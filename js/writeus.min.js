var writeusLink = document.querySelector(".contacts-button"), writeusModal = document.querySelector(".modal-writeus"), writeusClose = document.querySelector(".close-button-writeus"), writeusForm = document.querySelector(".modal-writeus-form"), writeusName = document.querySelector(".modal-input-name"), writeusEmail = document.querySelector(".modal-input-email"), writeusText = document.querySelector(".modal-textarea"), isStoregeSupport = !0, storageName = "", storageEmail = ""; try { storageName = localStorage.getItem("Name"), storageEmail = localStorage.getItem("Email") } catch (e) { isStoregeSupport = !1 } writeusLink.addEventListener("click", function (e) { e.preventDefault(), writeusModal.classList.add("modal-show"), storageEmail ? (writeusName.value = storageName, writeusEmail.value = storageEmail, writeusText.focus()) : writeusName.focus() }), writeusClose.addEventListener("click", function (e) { e.preventDefault(), writeusModal.classList.remove("modal-show"), writeusModal.classList.remove("modal-error") }), writeusForm.addEventListener("submit", function (e) { writeusName.value && writeusEmail.value ? isStoregeSupport && (localStorage.setItem("Name", writeusName.value), localStorage.setItem("Email", writeusEmail.value)) : (e.preventDefault(), writeusModal.classList.remove("modal-error"), writeusModal.offsetWidth = writeusModal.offsetWidth, writeusModal.classList.add("modal-error")) }), window.addEventListener("keydown", function (e) { 27 === e.keyCode && writeusModal.classList.contains("modal-show") && (e.preventDefault(), writeusModal.classList.remove("modal-show"), writeusModal.classList.remove("modal-error")) });